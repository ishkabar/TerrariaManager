<UserControl x:Class="Ogur.Terraria.Manager.Devexpress.Views.CommandsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             Background="#1e1e1e">

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Commands Grid -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
           <StackPanel>
        <!-- Time Category -->
        <TextBlock Text="⏰ Time Commands"
                   Foreground="White"
                   FontSize="16"
                   FontWeight="Bold"
                   Margin="0,0,0,10" />

        <ItemsControl ItemsSource="{Binding TimeCommands}"
                      Margin="0,0,0,20">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <dx:SimpleButton Command="{Binding DataContext.ExecuteServerCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                     CommandParameter="{Binding}"
                                     IsEnabled="{Binding DataContext.IsConnected, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                     Style="{StaticResource SecondaryButton}"
                                     Height="80"
                                     Width="180"
                                     Margin="0,0,10,10">
                        <StackPanel>
                            <TextBlock Text="{Binding Icon}" FontSize="28" HorizontalAlignment="Center" />
                            <TextBlock Text="{Binding Name}"
                                       FontSize="13"
                                       HorizontalAlignment="Center"
                                       TextWrapping="Wrap"
                                       TextAlignment="Center"
                                       MaxWidth="160"
                                       Margin="0,8,0,0" />
                        </StackPanel>
                    </dx:SimpleButton>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <!-- Server Category -->
        <TextBlock Text="🖥️ Server Management"
                   Foreground="White"
                   FontSize="16"
                   FontWeight="Bold"
                   Margin="0,0,0,10" />

        <ItemsControl ItemsSource="{Binding ServerCommands}"
                      Margin="0,0,0,20">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <dx:SimpleButton Command="{Binding DataContext.ExecuteServerCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                     CommandParameter="{Binding}"
                                     IsEnabled="{Binding DataContext.IsConnected, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                     Style="{StaticResource SecondaryButton}"
                                     Height="80"
                                     Width="180"
                                     Margin="0,0,10,10">
                        <StackPanel>
                            <TextBlock Text="{Binding Icon}" FontSize="28" HorizontalAlignment="Center" />
                            <TextBlock Text="{Binding Name}"
                                       FontSize="13"
                                       HorizontalAlignment="Center"
                                       TextWrapping="Wrap"
                                       TextAlignment="Center"
                                       MaxWidth="160"
                                       Margin="0,8,0,0" />
                        </StackPanel>
                    </dx:SimpleButton>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <!-- Admin Category -->
        <TextBlock Text="🔨 Admin Commands"
                   Foreground="White"
                   FontSize="16"
                   FontWeight="Bold"
                   Margin="0,0,0,10" />

        <ItemsControl ItemsSource="{Binding AdminCommands}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <dx:SimpleButton Command="{Binding DataContext.ExecuteServerCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                     CommandParameter="{Binding}"
                                     IsEnabled="{Binding DataContext.IsConnected, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                     Style="{StaticResource SecondaryButton}"
                                     Height="80"
                                     Width="180"
                                     Margin="0,0,10,10">
                        <StackPanel>
                            <TextBlock Text="{Binding Icon}" FontSize="28" HorizontalAlignment="Center" />
                            <TextBlock Text="{Binding Name}"
                                       FontSize="13"
                                       HorizontalAlignment="Center"
                                       TextWrapping="Wrap"
                                       TextAlignment="Center"
                                       MaxWidth="160"
                                       Margin="0,8,0,0" />
                        </StackPanel>
                    </dx:SimpleButton>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>